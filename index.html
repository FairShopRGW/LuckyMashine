<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Neon Slots - Ultimate Casino Edition</title>

<style>
body{
    background:#050505;
    color:white;
    font-family:Orbitron, sans-serif;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    margin:0;
}
.casino-container{
    background:#111;
    padding:30px;
    border:2px solid cyan;
    border-radius:15px;
    text-align:center;
    width:420px;
}
.reel{
    width:90px;
    height:100px;
    border:2px solid cyan;
    display:inline-flex;
    align-items:center;
    justify-content:center;
    font-size:2.5rem;
    margin:10px;
}
button{
    margin-top:10px;
    padding:12px 20px;
    border:2px solid cyan;
    background:transparent;
    color:cyan;
    cursor:pointer;
}
input{
    padding:10px;
    background:black;
    color:white;
    border:1px solid cyan;
}
.overlay{
    position:fixed;
    inset:0;
    background:black;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
}
.hidden{display:none;}
</style>
</head>
<body>

<div id="start-overlay" class="overlay">
    <h1>NEON SLOTS</h1>
    <input type="text" id="username" placeholder="Dein Name">
    <button onclick="initGame()">Enter Casino</button>
</div>

<div class="casino-container">
    <h2 id="player-name">Spieler</h2>
    <h3>$<span id="money">100</span></h3>

    <div>
        <div class="reel" id="reel1">üíé</div>
        <div class="reel" id="reel2">üíé</div>
        <div class="reel" id="reel3">üíé</div>
    </div>

    <br>
    Einsatz: <input type="number" id="bet" value="10" min="1">

    <br>
    <button onclick="spin()">SPIN</button>

    <hr>

    <h3>Redeem Code</h3>
    <input id="redeem-input" placeholder="Code eingeben">
    <button onclick="redeemCode()">Einl√∂sen</button>

    <hr>

    <button onclick="resetAccount()" style="border-color:red;color:red;">Account Reset</button>
</div>

<script>
/* ============================
   REDEEM CODES (HIER EDITIEREN)
   ============================ */
const REDEEM_CODES = {
    "START100": { amount: 100, name: "Starter Bonus" },
    "VIP500": { amount: 500, name: "VIP Bonus" },
    "ULTRA1000": { amount: 1000, name: "Ultra Jackpot" }
};

/* ============================
   LOKALE SPEICHER DATEN LADEN
   ============================ */
let playerName = localStorage.getItem("playerName") || "";
let money = parseInt(localStorage.getItem("money")) || 100;
let usedCodes = JSON.parse(localStorage.getItem("usedCodes") || "[]");

/* ============================
   INIT GAME
   ============================ */
function initGame(){
    const nameInput = document.getElementById("username").value.trim();
    if(nameInput){
        playerName = nameInput;
        localStorage.setItem("playerName", playerName);
    }
    document.getElementById("player-name").innerText = playerName || "Spieler";
    document.getElementById("start-overlay").classList.add("hidden");
    updateUI();
}

/* Auto login wenn Name gespeichert */
if(playerName){
    document.getElementById("start-overlay").classList.add("hidden");
    document.getElementById("player-name").innerText = playerName;
}

/* ============================
   UI UPDATE + LOCAL SAVE
   ============================ */
function updateUI(){
    document.getElementById("money").innerText = money;
    localStorage.setItem("money", money);
    localStorage.setItem("usedCodes", JSON.stringify(usedCodes));
}

/* ============================
   SLOT SPIN
   ============================ */
function spin(){
    let bet = parseInt(document.getElementById("bet").value);
    if(bet > money){
        alert("Nicht genug Geld!");
        return;
    }

    money -= bet;

    const symbols = ["üíé","7","üçÄ","‚≠ê"];
    const r1 = symbols[Math.floor(Math.random()*symbols.length)];
    const r2 = symbols[Math.floor(Math.random()*symbols.length)];
    const r3 = symbols[Math.floor(Math.random()*symbols.length)];

    document.getElementById("reel1").innerText = r1;
    document.getElementById("reel2").innerText = r2;
    document.getElementById("reel3").innerText = r3;

    if(r1===r2 && r2===r3){
        let win = bet * 5;
        money += win;
        alert("GEWINN! +" + win + "$");
    }

    updateUI();
}

/* ============================
   REDEEM CODE SYSTEM
   ============================ */
function redeemCode(){
    const code = document.getElementById("redeem-input").value.trim().toUpperCase();
    if(!code) return;

    if(usedCodes.includes(code)){
        alert("Code bereits benutzt!");
        return;
    }

    if(REDEEM_CODES[code]){
        const reward = REDEEM_CODES[code].amount;
        money += reward;
        usedCodes.push(code);
        updateUI();
        alert("Code '" + REDEEM_CODES[code].name + "' eingel√∂st! +" + reward + "$");
    }else{
        alert("Ung√ºltiger Code!");
    }

    document.getElementById("redeem-input").value = "";
}

/* ============================
   ACCOUNT RESET
   ============================ */
function resetAccount(){
    if(!confirm("Willst du wirklich alles l√∂schen?")) return;

    localStorage.clear();
    playerName = "";
    money = 100;
    usedCodes = [];

    document.getElementById("reel1").innerText="üíé";
    document.getElementById("reel2").innerText="üíé";
    document.getElementById("reel3").innerText="üíé";

    document.getElementById("start-overlay").classList.remove("hidden");
    document.getElementById("username").value="";
    updateUI();
}
</script>
</body>
</html>
